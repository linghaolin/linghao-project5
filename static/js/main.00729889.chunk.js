(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(87),o=a.n(r),c=a(22),i=a(23),l=a(25),u=a(24),d=a(26),m=a(61),h=a.n(m);h.a.initializeApp({apiKey:"AIzaSyDWHPZXT5PJUNe-7urGa64ZSLKyPQOpePQ",authDomain:"stackoverflow-flashcards.firebaseapp.com",databaseURL:"https://stackoverflow-flashcards.firebaseio.com",projectId:"stackoverflow-flashcards",storageBucket:"stackoverflow-flashcards.appspot.com",messagingSenderId:"543251906381"});var f=h.a,p=a(62),w=a.n(p),v=a(27),b=a.n(v),k=(a(247),a(12)),E=a(6),C=a(7);E.b.add(C.b),E.b.add(C.a);var y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var a=t.target.value;e.setState({url:a})},e.handleSubmit=function(t){console.log("submit"),t.preventDefault();var a=e.state.url,n=(a=a.split("/"))[4];e.getQuestionTitle(n).then(function(t){e.setState({id:n,question:t})}).catch(function(){alert("Sorry, you input is invalid, please try to copy paste your link again.")}),e.getAnswerBody(n).then(function(t){e.setState({answer:t,url:""})}).catch(function(e){console.log(e)})},e.getQuestionTitle=function(e){return w()({method:"GET",url:"https://api.stackexchange.com/2.2/questions/"+e,dataResponse:"json",params:{site:"stackoverflow",sort:"votes",filter:"!9Z(-wzftf"}}).then(function(e){return e.data.items[0].title})},e.getAnswerBody=function(e){return w()({method:"GET",url:"https://api.stackexchange.com/2.2/questions/"+e+"/answers",dataResponse:"json",params:{site:"stackoverflow",sort:"votes",filter:"!9Z(-wzftf"}}).then(function(e){return e.data.items[0].body_markdown})},e.handleConfirm=function(t){t.preventDefault();var a=f.database().ref();e.state.question?a.push({question:e.state.question,answer:e.state.answer}):alert("Please paste your link and retrieve answer first!"),e.setState({id:"",question:"",answer:""})},e.handleEdit=function(){e.setState({textareaView:!0})},e.handleTextChange=function(t){var a=t.target.value;e.setState({answer:a})},e.handleConfirmEdit=function(){e.setState({textareaView:!1})},e.state={url:"",validInput:!0,id:"",question:"",answer:"",textareaView:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"getInput"},s.a.createElement("h1",null,"Copy and paste your stack",s.a.createElement("span",null,"overflow")," link here"),s.a.createElement("form",{action:"submit",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",name:"question",placeholder:"Please place stackoverflow url",onChange:this.handleChange,value:this.state.url}),s.a.createElement("button",{className:"showButton",type:"submit"},"Show Q&A")),s.a.createElement("section",null,this.state.answer?s.a.createElement("div",{className:"print"},s.a.createElement("p",{className:"title"},"Question: "),s.a.createElement(b.a,{source:this.state.question}),s.a.createElement("p",{className:"title"},"Answer: "),s.a.createElement("div",{className:"answerContainer"},s.a.createElement("div",{className:"buttonContainer"},s.a.createElement("button",{className:"editButton",onClick:this.handleEdit},"Edit"),s.a.createElement("button",{className:"confirmEditbutton",onClick:this.handleConfirmEdit},"Confirm")),this.state.textareaView?s.a.createElement("textarea",{type:"text",name:"editAnswer",cols:"30",rows:"10",onChange:this.handleTextChange},this.state.answer):s.a.createElement(b.a,{source:this.state.answer}))):null,s.a.createElement("button",{className:"confirmButton",onClick:this.handleConfirm},"Add to my card deck! ",s.a.createElement(k.a,{icon:"plus"})),s.a.createElement("button",{className:"switchButton",onClick:this.props.onSwitch},"Check out my card deck")),s.a.createElement("button",{className:"backButton",onClick:this.props.onBack},"Back ",s.a.createElement(k.a,{icon:"backward"})))}}]),t}(n.Component),S=a(88),g=a.n(S);a(248),a(249);E.b.add(C.a),E.b.add(C.c);var N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).randomizeCard=function(t){return t[Math.floor(Math.random()*e.state.cards.length)]},e.handleSubmit=function(t){t.preventDefault(),e.state.cards.length>2?e.setState({randomCard:e.randomizeCard(e.state.cards),flipped:!1}):1===e.state.cards.length?alert("Sorry, you only have one card now."):alert("Sorry, you have no card to show, please add some new and come back to check them out.")},e.handleDelete=function(t){t.preventDefault();var a=e.state.cards,n=e.state.randomCard,s=a.indexOf(n),r=e.state.keys[s];a.length<1?alert("Sorry, you have no cards to delete"):f.database().ref(r).remove()},e.state={keys:[],cards:[],flipped:!1,randomCard:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.database().ref().on("value",function(t){var a=[],n=[],r=t.val();if(!r)return s.a.createElement("div",null);for(var o in r)a.push({question:r[o].question,answer:r[o].answer}),n.push(o);var c=e.randomizeCard(a);e.setState({cards:a,randomCard:c,keys:n})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"cardDeck"},s.a.createElement("h1",null,"Click the ",s.a.createElement("span",null,"card")," to check the answer"),s.a.createElement("div",{className:"flashCard"},s.a.createElement(g.a,{flipped:this.state.flipped,onClick:function(t){return e.setState({flipped:!e.state.flipped})}},s.a.createElement(b.a,{source:this.state.randomCard.question}),s.a.createElement(b.a,{source:this.state.randomCard.answer}))),s.a.createElement("div",{className:"buttonContainer"},s.a.createElement("button",{className:"nextButton",onClick:this.handleSubmit},"Next"),s.a.createElement("button",{className:"deleteButton",onClick:this.handleDelete},"Delete this card ",s.a.createElement(k.a,{icon:"times"}))),s.a.createElement("button",{className:"backButton",onClick:this.props.onBack},"Back ",s.a.createElement(k.a,{icon:"backward"})))}}]),t}(n.Component);a(250);E.b.add(C.b);var O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).showDeck=function(){e.setState({view:"deck"})},e.showSubmit=function(){e.setState({view:"submit"})},e.showOriginal=function(){e.setState({view:""})},e.state={view:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return"submit"===this.state.view?s.a.createElement(y,{onBack:this.showOriginal,onSwitch:this.showDeck}):"deck"===this.state.view?s.a.createElement(N,{onBack:this.showOriginal}):s.a.createElement("div",{className:"app"},s.a.createElement("h1",{className:"header"},"My Stack",s.a.createElement("span",null,"OverFlow")," Flash Cards"),s.a.createElement("div",{className:"buttonContainer"},s.a.createElement("button",{onClick:this.showDeck},"My Cards"),s.a.createElement("button",{onClick:this.showSubmit},"Add New ",s.a.createElement(k.a,{icon:"plus"}))))}}]),t}(n.Component);o.a.render(s.a.createElement(O,null),document.getElementById("root"))},89:function(e,t,a){e.exports=a(251)}},[[89,1,2]]]);
//# sourceMappingURL=main.00729889.chunk.js.map